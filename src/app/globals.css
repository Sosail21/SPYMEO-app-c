@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg:#edf4f6;
  --text:#0b1239;
  --muted:#5b6b8b;
  --primary:#0b1239;
  --accent:#17a2b8;
}

html, body { height: 100%; }
body { @apply bg-bg text-text antialiased; }

/* ===== Components (consolidé & sans doublons) ===== */
@layer components {
  /* Layout */
  .container-spy { @apply max-w-container mx-auto px-5; }
  .section { @apply py-16; }
  .section-alt { @apply bg-[#f7fbfd]; }

  /* Grids utilitaires */
  .grid-3 { @apply grid gap-5 md:grid-cols-3; }
  .grid-4 { @apply grid gap-5 md:grid-cols-4; }

  /* Cartes, pages & marque */
  .card { @apply bg-white border border-border rounded-lg shadow-elev p-4; }
  .page { @apply bg-white border border-border rounded-md px-3 py-2 shadow-elev; }
  .page-active { @apply bg-accent text-white border-transparent; }

  .brand { @apply inline-flex items-center gap-2 font-extrabold text-text; }
  .brand-dot { @apply w-3.5 h-3.5 rounded-full bg-[linear-gradient(135deg,#17a2b8,#5ce0ee)]; }

  /* Boutons */
  .btn { @apply inline-flex items-center justify-center gap-2 rounded-[12px] px-4 py-2 shadow-elev bg-accent text-white; }
  .btn-outline { @apply bg-[#f0fbff] text-accent border border-accent/40; }
  .btn-ghost { @apply bg-[#f2fbfd] text-accent; }

  /* Header & footer */
  .site-header { @apply bg-white border-b border-border sticky top-0 z-50; }
  .header-inner { @apply container-spy flex items-center gap-6 py-3; }
  .footer { @apply bg-white border-t border-border; }
  .footer-inner { @apply container-spy flex flex-wrap items-center justify-between gap-4 py-5; }

  /* Recherche / chips */
  .search { @apply flex gap-2 bg-white border border-border rounded-full p-2 shadow-elev mt-4; }
  .search input { @apply border-0 outline-none px-3 w-full rounded-full; }
  .search select { @apply border-0 outline-none px-3 w-full rounded-full bg-[#f7fbfd]; }

  .chips-row { @apply flex flex-wrap gap-2 my-4; }
  .chip { @apply bg-[#f2fbfd] text-accent border border-accent/25 px-3 py-2 rounded-full cursor-pointer; }
  .chip-active { @apply bg-accent text-white border-transparent; }

  /* Résultats de recherche */
  .results-layout { @apply grid gap-6 md:grid-cols-[300px_1fr] mt-5; }
  .filters { @apply card sticky top-[90px] h-fit; }
  .filter-group h3 { @apply text-sm text-muted mb-2; }

  .results-header { @apply flex items-center justify-between mb-3 gap-3 flex-wrap; }
  .view-switch { @apply inline-flex gap-1 bg-[#f2fbfd] border border-accent/25 rounded-full p-1; }
  .view { @apply bg-transparent px-3 py-1 rounded-full text-accent; }
  .view-active { @apply bg-white shadow-elev; }

  .profile-card { @apply card p-0 overflow-hidden relative; }
  .profile-cover { @apply h-40 rounded-t-lg bg-[linear-gradient(135deg,#17a2b8,#5ce0ee)]; }
  .profile-body { @apply p-4; }
  .like { @apply absolute right-2 top-2 z-10 bg-white/90 rounded-full w-9 h-9 shadow-elev grid place-content-center; }

  /* Liste (vue “Meetic” liste) */
  .list { @apply grid gap-3; }
  .list-row { @apply relative grid md:grid-cols-[140px_1fr] gap-4 card items-center; }
  .list-media { @apply w-full h-44 md:h-36 rounded-lg bg-[#e6eef2]; }
  .list-body { @apply grid gap-1; }
  .list-head { @apply flex items-center justify-between gap-3 flex-wrap; }
  .list-desc { @apply opacity-90; }
  .pagination { @apply flex gap-2 items-center justify-center mt-4 flex-wrap; }

  /* Fiche publique */
  .fiche-hero { @apply bg-[linear-gradient(180deg,#f8fcfd_0%,#eef7f9_100%)] pt-10 pb-6; }
  .fiche-hero-inner { @apply container-spy grid md:grid-cols-[140px_1fr] gap-6 items-center; }
  .fiche-avatar { @apply w-24 h-24 md:w-[140px] md:h-[140px] rounded-2xl bg-[#e6eef2] shadow-elev; }
  .fiche-layout { @apply container-spy grid md:grid-cols-[minmax(0,1fr)_360px] gap-6 bg-white rounded-xl p-6; }
  .map { @apply h-44 rounded-xl bg-[#e6eef2] shadow-elev; }
  .avis { @apply grid gap-3; }
  .avis-item { @apply card; }
  .avis-stars { @apply text-yellow-500 tracking-widest; }

  /* Blog */
  .post-grid { @apply grid gap-5 md:grid-cols-3; }
  .post-card { @apply card p-0 overflow-hidden; }
  .post-cover { @apply block h-44 bg-[linear-gradient(135deg,#17a2b8,#5ce0ee)]; }
  .post-body { @apply p-4 grid gap-2; }
  .post-hero { @apply bg-[linear-gradient(180deg,#f8fcfd_0%,#eef7f9_100%)] pt-10 pb-6; }
  .post-hero-inner { @apply container-spy grid md:grid-cols-[1fr_1.2fr] gap-6 items-center; }
  .post-hero-media { @apply h-72 rounded-xl shadow-elev bg-[linear-gradient(135deg,#17a2b8,#5ce0ee)]; }
  .post-layout { @apply container-spy grid md:grid-cols-[minmax(0,1fr)_320px] gap-6; }
  /* ⚠️ pas de .prose ici ; utiliser .prose-content */
  .prose-content { @apply prose prose-slate max-w-none; }

  /* Produit */
  .product-layout { @apply container-spy grid gap-6 lg:grid-cols-[1fr_1.2fr_320px]; }
  .product-gallery { @apply card; }
  .product-main-img { @apply h-80 rounded-xl bg-[#e6eef2] shadow-elev; }
  .product-thumbs { @apply flex gap-2 mt-2; }
  .thumb { @apply w-16 h-16 rounded-xl bg-[#eef3f6] border border-border cursor-pointer; }
  .thumb-active { @apply outline outline-2 outline-accent/30; }

  /* Buybar */
  .buybar { @apply sticky bottom-0 bg-primary text-white border-t border-white/10; }
  .buybar-inner { @apply container-spy flex items-center justify-end gap-4 py-3; }
  .buybar-title { @apply font-bold mr-auto; }
  .buybar-price { @apply font-extrabold; }

  /* Auth */
  .auth-card { @apply max-w-xl mx-auto card; }
  .auth-form { @apply grid gap-4; }
  .alert { @apply grid gap-1 rounded-lg px-3 py-2 border; }
  .alert-error { @apply bg-[#fff3f3] text-[#7a1d1d] border-[#f3c1c1]; }
  .alert-success { @apply bg-[#f1fff5] text-[#0b6a3b] border-[#bfe8cf]; }
  .auth-side { @apply card; }

  /* Stepper */
  .stepper { @apply grid gap-2; }
  .step { @apply text-center px-3 py-2 border border-border rounded-lg bg-[#f7fbfd] text-muted text-sm; }
  .step-active { @apply bg-[#e7f6fb] text-[#0f6b7f] border-accent/25; }
  .step-pane { @apply grid gap-3; }

  /* Maquette “pills + soft shadow” */
  .soft-card { @apply bg-white border border-border rounded-xl shadow-[0_10px_30px_rgba(11,18,57,0.10)]; }
  .pill { @apply rounded-full px-4 py-2 text-sm; }
  .pill-muted { @apply bg-[#f7fbfd] border border-accent/25 text-accent; }
  .pill-solid { @apply bg-accent text-white; }
  .pill-ghost { @apply bg-white border border-border text-text; }
  .input-pill { @apply bg-white rounded-full border border-border px-4 py-2 focus:outline-none w-full; }
  .search-wrap { @apply flex items-center gap-2 bg-white border border-border rounded-full p-2 shadow-[0_10px_30px_rgba(11,18,57,0.10)]; }
  .affinity { @apply bg-[#e9f8fb] text-[#0b5b68] px-3 py-1 rounded-full text-xs font-semibold; }
  .like-btn { @apply absolute right-2 top-2 bg-white/95 w-9 h-9 rounded-full grid place-content-center shadow-[0_8px_20px_rgba(11,18,57,0.10)]; }
  .toolbar { @apply flex items-center justify-between gap-3 flex-wrap; }
  .segmented { @apply inline-flex bg-[#f2fbfd] border border-accent/25 rounded-full p-1; }
  .segmented button { @apply px-3 py-1 rounded-full text-accent; }
  .segmented .is-active { @apply bg-white shadow-[0_8px_20px_rgba(11,18,57,0.10)]; }

  /* Divers */
  .link-muted { @apply text-muted hover:text-text; }
}

/* Hors layer (global) */
.range { accent-color: #17a2b8; }
.card { @apply bg-white border border-border rounded-lg shadow-elev p-4 will-change-transform;
}

/* cache les scrollbars horizontales pour les nav pills */
.nav-scroll {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.nav-scroll::-webkit-scrollbar { display: none; }