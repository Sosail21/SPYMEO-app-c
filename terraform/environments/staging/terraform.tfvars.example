# Cdw-Spm: Terraform variables for STAGING environment

# ══════════════════════════════════════════════════════════════════
# GENERAL
# ══════════════════════════════════════════════════════════════════

aws_region  = "eu-west-3"
environment = "staging"

domain_name     = "staging.spymeo.com"
certificate_arn = "arn:aws:acm:eu-west-3:ACCOUNT_ID:certificate/CERT_ID"

# ══════════════════════════════════════════════════════════════════
# NETWORKING
# ══════════════════════════════════════════════════════════════════

vpc_cidr = "10.1.0.0/16"

availability_zones = ["eu-west-3a", "eu-west-3b", "eu-west-3c"]

public_subnets  = ["10.1.1.0/24", "10.1.2.0/24", "10.1.3.0/24"]
private_subnets = ["10.1.11.0/24", "10.1.12.0/24", "10.1.13.0/24"]

# ══════════════════════════════════════════════════════════════════
# DATABASE
# ══════════════════════════════════════════════════════════════════

db_name     = "spymeo_staging"
db_username = "spymeo_admin"
db_password = "CHANGE_ME_STRONG_PASSWORD_STAGING"

# Staging: smaller instance
db_instance_class        = "db.t4g.small"
db_allocated_storage     = 20
db_max_allocated_storage = 100

# ══════════════════════════════════════════════════════════════════
# ECS / APPLICATION
# ══════════════════════════════════════════════════════════════════

container_image = "123456789012.dkr.ecr.eu-west-3.amazonaws.com/spymeo:staging-latest"

# Staging: smaller resources
ecs_task_cpu    = 256
ecs_task_memory = 512

# Staging: single task
ecs_desired_count = 1

# ══════════════════════════════════════════════════════════════════
# SECRETS
# ══════════════════════════════════════════════════════════════════

nextauth_secret = "CHANGE_ME_RANDOM_SECRET_STAGING"

# ══════════════════════════════════════════════════════════════════
# MONITORING
# ══════════════════════════════════════════════════════════════════

alert_emails = [
  "dev@spymeo.com"
]
