# ============================================================================
# MCP (Model Context Protocol) Configuration
# ============================================================================
# This file contains environment variables needed for MCP server connections.
# Copy this file to .env.local and fill in your actual values.
#
# SECURITY WARNING: Never commit .env.local to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration (Prisma MCP Server)
# ----------------------------------------------------------------------------
DATABASE_URL="postgresql://username:password@localhost:5432/spymeo"
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# Example: postgresql://spymeo_user:secret123@localhost:5432/spymeo_dev

# ----------------------------------------------------------------------------
# Payment Processing (Stripe MCP Server)
# ----------------------------------------------------------------------------
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# Stripe Product/Price IDs (configure in Stripe Dashboard)
STRIPE_PASS_FREE_PRICE_ID="price_..."
STRIPE_PASS_PREMIUM_PRICE_ID="price_..."
STRIPE_PASS_PRO_PRICE_ID="price_..."
STRIPE_PRACTITIONER_MEMBERSHIP_PRICE_ID="price_..."
STRIPE_MERCHANT_MEMBERSHIP_PRICE_ID="price_..."

# ----------------------------------------------------------------------------
# File Storage (Cloudinary MCP Server)
# ----------------------------------------------------------------------------
CLOUDINARY_CLOUD_NAME="your-cloud-name"
CLOUDINARY_API_KEY="123456789012345"
CLOUDINARY_API_SECRET="your-api-secret"

# Cloudinary Upload Presets (optional)
CLOUDINARY_UPLOAD_PRESET="spymeo_default"

# ----------------------------------------------------------------------------
# Email Service (Resend MCP Server)
# ----------------------------------------------------------------------------
RESEND_API_KEY="re_..."

# Email Sender Configuration
EMAIL_FROM="noreply@spymeo.com"
EMAIL_REPLY_TO="support@spymeo.com"

# ----------------------------------------------------------------------------
# Search Service (Algolia MCP Server)
# ----------------------------------------------------------------------------
ALGOLIA_APP_ID="YOUR_APP_ID"
ALGOLIA_API_KEY="your-search-only-api-key"
ALGOLIA_ADMIN_KEY="your-admin-api-key"

# Algolia Index Names
ALGOLIA_INDEX_PRACTITIONERS="spymeo_practitioners"
ALGOLIA_INDEX_MERCHANTS="spymeo_merchants"
ALGOLIA_INDEX_PRODUCTS="spymeo_products"
ALGOLIA_INDEX_ARTICLES="spymeo_articles"
ALGOLIA_INDEX_CENTERS="spymeo_centers"

# ----------------------------------------------------------------------------
# GitHub Integration (GitHub MCP Server)
# ----------------------------------------------------------------------------
GITHUB_PERSONAL_ACCESS_TOKEN="ghp_..."
GITHUB_REPOSITORY="your-org/spymeo"

# ----------------------------------------------------------------------------
# Application Configuration
# ----------------------------------------------------------------------------
NEXT_PUBLIC_URL="http://localhost:3000"
PROJECT_ROOT="/absolute/path/to/spymeo"

# Node Environment
NODE_ENV="development"

# ----------------------------------------------------------------------------
# MCP Configuration
# ----------------------------------------------------------------------------
MCP_CONFIG_PATH=".mcp/config.json"
MCP_LOG_LEVEL="info"
MCP_CACHE_ENABLED="true"
MCP_CACHE_TTL="3600"

# ----------------------------------------------------------------------------
# Optional: Service-Specific Advanced Configuration
# ----------------------------------------------------------------------------

# Prisma
PRISMA_CLI_QUERY_ENGINE_TYPE="binary"

# Cloudinary Advanced
CLOUDINARY_SECURE="true"
CLOUDINARY_OVERWRITE="false"
CLOUDINARY_INVALIDATE="true"

# Algolia Advanced
ALGOLIA_SYNC_ENABLED="true"
ALGOLIA_SYNC_INTERVAL="300000"

# Stripe Advanced
STRIPE_API_VERSION="2024-10-28.acacia"
STRIPE_CONNECT_ENABLED="false"

# ----------------------------------------------------------------------------
# Development Only
# ----------------------------------------------------------------------------
# These are only needed in development mode

# Enable MCP debug logging
DEBUG_MCP="true"

# Mock external services (for testing without real API keys)
MOCK_STRIPE="false"
MOCK_CLOUDINARY="false"
MOCK_RESEND="false"
MOCK_ALGOLIA="false"

# ----------------------------------------------------------------------------
# Production Configuration
# ----------------------------------------------------------------------------
# In production, ensure:
# 1. All mock flags are false
# 2. Use production API keys (not test keys)
# 3. DATABASE_URL points to production database
# 4. NEXT_PUBLIC_URL is your production domain
# 5. Enable SSL/TLS for all connections
# 6. Set strong webhook secrets
# 7. Configure proper CORS origins
# 8. Enable rate limiting
# 9. Use environment-specific MCP configurations
# 10. Regularly rotate API keys and secrets

# ----------------------------------------------------------------------------
# Notes
# ----------------------------------------------------------------------------
#
# Obtaining API Keys:
#
# Stripe: https://dashboard.stripe.com/apikeys
# Cloudinary: https://cloudinary.com/console/settings/api-keys
# Resend: https://resend.com/api-keys
# Algolia: https://www.algolia.com/account/api-keys
# GitHub: https://github.com/settings/tokens
#
# Security Best Practices:
#
# 1. Never commit .env.local to Git
# 2. Use different API keys for dev/staging/production
# 3. Rotate keys regularly (every 90 days minimum)
# 4. Use webhook secrets to verify requests
# 5. Enable 2FA on all service accounts
# 6. Restrict API key permissions to minimum required
# 7. Monitor API usage for anomalies
# 8. Use environment variables in CI/CD, not hardcoded values
# 9. Encrypt sensitive environment variables in production
# 10. Audit API key usage monthly
#
# ============================================================================
